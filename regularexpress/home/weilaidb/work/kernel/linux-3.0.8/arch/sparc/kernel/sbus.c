#define MAP_BASE	((u32)0xc0000000)
#define SYSIO_IOMMUREG_BASE	0x2400UL
#define IOMMU_CONTROL	(0x2400UL - 0x2400UL)
#define IOMMU_TSBBASE	(0x2408UL - 0x2400UL)
#define IOMMU_FLUSH	(0x2410UL - 0x2400UL)
#define IOMMU_VADIAG	(0x4400UL - 0x2400UL)
#define IOMMU_TAGCMP	(0x4408UL - 0x2400UL)
#define IOMMU_LRUDIAG	(0x4500UL - 0x2400UL)
#define IOMMU_TAGDIAG	(0x4580UL - 0x2400UL)
#define IOMMU_DRAMDIAG	(0x4600UL - 0x2400UL)
#define IOMMU_DRAM_VALID	(1UL << 30UL)
#define SYSIO_STRBUFREG_BASE	0x2800UL
#define STRBUF_CONTROL	(0x2800UL - 0x2800UL)
#define STRBUF_PFLUSH	(0x2808UL - 0x2800UL)
#define STRBUF_FSYNC	(0x2810UL - 0x2800UL)
#define STRBUF_DRAMDIAG	(0x5000UL - 0x2800UL)
#define STRBUF_ERRDIAG	(0x5400UL - 0x2800UL)
#define STRBUF_PTAGDIAG	(0x5800UL - 0x2800UL)
#define STRBUF_LTAGDIAG	(0x5900UL - 0x2800UL)
#define STRBUF_TAG_VALID	0x02UL
void sbus_set_sbus64(struct device *dev, int bursts)
EXPORT_SYMBOL(sbus_set_sbus64);
#define SYSIO_IMAP_SLOT0	0x2c00UL
#define SYSIO_IMAP_SLOT1	0x2c08UL
#define SYSIO_IMAP_SLOT2	0x2c10UL
#define SYSIO_IMAP_SLOT3	0x2c18UL
#define SYSIO_IMAP_SCSI		0x3000UL
#define SYSIO_IMAP_ETH		0x3008UL
#define SYSIO_IMAP_BPP		0x3010UL
#define SYSIO_IMAP_AUDIO	0x3018UL
#define SYSIO_IMAP_PFAIL	0x3020UL
#define SYSIO_IMAP_KMS		0x3028UL
#define SYSIO_IMAP_FLPY		0x3030UL
#define SYSIO_IMAP_SHW		0x3038UL
#define SYSIO_IMAP_KBD		0x3040UL
#define SYSIO_IMAP_MS		0x3048UL
#define SYSIO_IMAP_SER		0x3050UL
#define SYSIO_IMAP_TIM0		0x3060UL
#define SYSIO_IMAP_TIM1		0x3068UL
#define SYSIO_IMAP_UE		0x3070UL
#define SYSIO_IMAP_CE		0x3078UL
#define SYSIO_IMAP_SBERR	0x3080UL
#define SYSIO_IMAP_PMGMT	0x3088UL
#define SYSIO_IMAP_GFX		0x3090UL
#define SYSIO_IMAP_EUPA		0x3098UL
#define bogon     ((unsigned long) -1)
static unsigned long sysio_irq_offsets[] = ;
#undef bogon
#define NUM_SYSIO_OFFSETS ARRAY_SIZE(sysio_irq_offsets)
#define SYSIO_ICLR_UNUSED0	0x3400UL
#define SYSIO_ICLR_SLOT0	0x3408UL
#define SYSIO_ICLR_SLOT1	0x3448UL
#define SYSIO_ICLR_SLOT2	0x3488UL
#define SYSIO_ICLR_SLOT3	0x34c8UL
static unsigned long sysio_imap_to_iclr(unsigned long imap)
static unsigned int sbus_build_irq(struct platform_device *op, unsigned int ino)
#define SYSIO_UE_AFSR	0x0030UL
#define SYSIO_UE_AFAR	0x0038UL
#define  SYSIO_UEAFSR_PPIO  0x8000000000000000UL
#define  SYSIO_UEAFSR_PDRD  0x4000000000000000UL
#define  SYSIO_UEAFSR_PDWR  0x2000000000000000UL
#define  SYSIO_UEAFSR_SPIO  0x1000000000000000UL
#define  SYSIO_UEAFSR_SDRD  0x0800000000000000UL
#define  SYSIO_UEAFSR_SDWR  0x0400000000000000UL
#define  SYSIO_UEAFSR_RESV1 0x03ff000000000000UL
#define  SYSIO_UEAFSR_DOFF  0x0000e00000000000UL
#define  SYSIO_UEAFSR_SIZE  0x00001c0000000000UL
#define  SYSIO_UEAFSR_MID   0x000003e000000000UL
#define  SYSIO_UEAFSR_RESV2 0x0000001fffffffffUL
static irqreturn_t sysio_ue_handler(int irq, void *dev_id)
#define SYSIO_CE_AFSR	0x0040UL
#define SYSIO_CE_AFAR	0x0048UL
#define  SYSIO_CEAFSR_PPIO  0x8000000000000000UL
#define  SYSIO_CEAFSR_PDRD  0x4000000000000000UL
#define  SYSIO_CEAFSR_PDWR  0x2000000000000000UL
#define  SYSIO_CEAFSR_SPIO  0x1000000000000000UL
#define  SYSIO_CEAFSR_SDRD  0x0800000000000000UL
#define  SYSIO_CEAFSR_SDWR  0x0400000000000000UL
#define  SYSIO_CEAFSR_RESV1 0x0300000000000000UL
#define  SYSIO_CEAFSR_ESYND 0x00ff000000000000UL
#define  SYSIO_CEAFSR_DOFF  0x0000e00000000000UL
#define  SYSIO_CEAFSR_SIZE  0x00001c0000000000UL
#define  SYSIO_CEAFSR_MID   0x000003e000000000UL
#define  SYSIO_CEAFSR_RESV2 0x0000001fffffffffUL
static irqreturn_t sysio_ce_handler(int irq, void *dev_id)
#define SYSIO_SBUS_AFSR		0x2010UL
#define SYSIO_SBUS_AFAR		0x2018UL
#define  SYSIO_SBAFSR_PLE   0x8000000000000000UL
#define  SYSIO_SBAFSR_PTO   0x4000000000000000UL
#define  SYSIO_SBAFSR_PBERR 0x2000000000000000UL
#define  SYSIO_SBAFSR_SLE   0x1000000000000000UL
#define  SYSIO_SBAFSR_STO   0x0800000000000000UL
#define  SYSIO_SBAFSR_SBERR 0x0400000000000000UL
#define  SYSIO_SBAFSR_RESV1 0x03ff000000000000UL
#define  SYSIO_SBAFSR_RD    0x0000800000000000UL
#define  SYSIO_SBAFSR_RESV2 0x0000600000000000UL
#define  SYSIO_SBAFSR_SIZE  0x00001c0000000000UL
#define  SYSIO_SBAFSR_MID   0x000003e000000000UL
#define  SYSIO_SBAFSR_RESV3 0x0000001fffffffffUL
static irqreturn_t sysio_sbus_error_handler(int irq, void *dev_id)
#define ECC_CONTROL	0x0020UL
#define  SYSIO_ECNTRL_ECCEN	0x8000000000000000UL
#define  SYSIO_ECNTRL_UEEN	0x4000000000000000UL
#define  SYSIO_ECNTRL_CEEN	0x2000000000000000UL
#define SYSIO_UE_INO		0x34
#define SYSIO_CE_INO		0x35
#define SYSIO_SBUSERR_INO	0x36
static void __init sysio_register_error_handlers(struct platform_device *op)
static void __init sbus_iommu_init(struct platform_device *op)
static int __init sbus_init(void)
subsys_initcall(sbus_init);
